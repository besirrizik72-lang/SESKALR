<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Besir √áoklu AR Maƒüaza</title>
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.3.0/model-viewer.min.js"></script>
    <style>
        body { margin: 0; font-family: sans-serif; background: #121212; color: white; overflow-x: hidden; }
        .header { padding: 20px; text-align: center; background: #1f1f1f; border-bottom: 1px solid #333; }
        
        model-viewer { width: 100%; height: 50vh; background-color: #1a1a1a; }

        .controls { padding: 20px; background: #1f1f1f; border-radius: 25px 25px 0 0; margin-top: -20px; }
        
        .menu-title { font-size: 14px; color: #888; margin-bottom: 15px; text-transform: uppercase; }
        
        .grid-menu { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px; }
        
        .item-card { 
            background: #2a2a2a; border-radius: 15px; padding: 15px; text-align: center;
            border: 2px solid transparent; transition: 0.3s; cursor: pointer;
        }
        
        .item-card.selected { border-color: #007bff; background: #1e2a3a; }
        
        .item-card i { display: block; font-size: 24px; margin-bottom: 8px; }

        .ar-ready-btn { 
            background: #28a745; color: white; border: none; border-radius: 15px; 
            padding: 20px; width: 100%; font-size: 16px; font-weight: bold;
            box-shadow: 0 4px 15px rgba(40,167,69,0.3); display: none;
        }
    </style>
</head>
<body>

<div class="header"><strong>BESƒ∞R MOBƒ∞LYA TASARIM</strong></div>

<model-viewer id="preview" src="https://raw.githubusercontent.com/besirrizik72-lang/SESKALR/main/2LIKOLTUK_RDTAND.glb" camera-controls auto-rotate shadow-intensity="1"></model-viewer>

<div class="controls">
    <div class="menu-title">Odaya Eklenecekleri Se√ßin</div>
    <div class="grid-menu">
        <div class="item-card" onclick="toggleItem(this, 'https://raw.githubusercontent.com/besirrizik72-lang/SESKALR/main/2LIKOLTUK_RDTAND.glb', '2li Koltuk')">
            <i>üõãÔ∏è</i> 2'li Koltuk
        </div>
        <div class="item-card" onclick="toggleItem(this, 'https://raw.githubusercontent.com/besirrizik72-lang/SESKALR2/main/4BITERKOLTUK.glb', 'Berjer')">
            <i>ü™ë</i> Berjer
        </div>
        <div class="item-card" onclick="toggleItem(this, 'https://raw.githubusercontent.com/besirrizik72-lang/SESKALR3/main/BITTERSEHPA.glb', 'Sehpa')">
            <i>‚òï</i> Sehpa
        </div>
    </div>

    <button id="go-ar" class="ar-ready-btn" onclick="startMultiAR()">
        SE√áƒ∞LENLERƒ∞ (0) ODANA Dƒ∞Z
    </button>
</div>

<script>
    let secilenler = [];

    function toggleItem(element, link, isim) {
        const index = secilenler.findIndex(item => item.link === link);
        
        if (index > -1) {
            secilenler.splice(index, 1);
            element.classList.remove('selected');
        } else {
            secilenler.push({link: link, title: isim});
            element.classList.add('selected');
            document.querySelector('#preview').src = link; // √ñnizlemede g√∂ster
        }

        updateUI();
    }

    function updateUI() {
        const btn = document.getElementById('go-ar');
        btn.innerText = `SE√áƒ∞LENLERƒ∞ (${secilenler.length}) ODANA Dƒ∞Z`;
        btn.style.display = secilenler.length > 0 ? 'block' : 'none';
    }

    function startMultiAR() {
        // Scene Viewer i√ßin √ßoklu model linki olu≈üturma
        // Android Scene Viewer formatƒ±: intent://arvr.google.com/scene-viewer/1.0?file=LINK1&file=LINK2...
        let baseUrl = "https://arvr.google.com/scene-viewer/1.0?file=";
        let links = secilenler.map(item => encodeURIComponent(item.link)).join("&file=");
        let finalIntent = `intent://arvr.google.com/scene-viewer/1.0?file=${links}&mode=ar_only#Intent;scheme=https;package=com.google.android.googlequicksearchbox;action=android.intent.action.VIEW;S.browser_fallback_url=https://developers.google.com/ar;end;`;
        
        window.location.href = finalIntent;
    }
</script>

</body>
</html>
